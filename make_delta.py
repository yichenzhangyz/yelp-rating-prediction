import numpy as np
import matplotlib.pyplot as plt
# with Bigram

# c = 0.05
# cv = 0.4
rmse_bigram0 = np.array([1.0036931802099684, 1.0155786527886455, 1.00637965003273, 0.9925724154942046, 0.9903534722511957, 0.9899494936611666, 0.9904544411531506, 0.9930760293149764, 0.9904544411531506, 0.9922701245124737, 0.9953893710503443, 0.9923708984044222, 0.9947864092356711, 0.9888377015466189, 0.9888377015466189, 0.9862048468751308, 0.9903534722511957, 0.9784681905918046, 0.9801020355044673, 0.9815294188153506, 0.9797958971132712, 0.98, 0.9856977224281286, 0.9839715443040007, 0.9807140255956371, 0.9832598842625484, 0.9832598842625484, 0.980612053770501, 0.9848857801796105, 0.9813256340277675, 0.984377976185977, 0.9817331613019904, 0.9817331613019904, 0.9811218069128828, 0.9796938297243685, 0.9827512401416749, 0.9818350166906862, 0.9832598842625484, 0.9828529900244491, 0.9820386957752735, 0.9824459272652108, 0.9829547293746543, 0.980612053770501, 0.9805100713404223, 0.9807140255956371, 0.9808159868191383, 0.9783659846908007, 0.9772410142846032, 0.9774456506629922, 0.9777525249264253])

rmse_bigram1 = np.array([1.0244022647378324, 1.0350845376103344, 1.0266450214168479, 1.008265837961398, 1.000399920031984, 1.0046890066085128, 0.997597113067194, 0.9953893710503443, 0.9902524930541705, 0.9905553997631833, 0.9907572861200669, 0.9910600385445879, 0.9812237257628863, 0.9817331613019904, 0.9776502442080194, 0.9768316129200569, 0.9758073580374356, 0.9783659846908007, 0.976933979345585, 0.9745768312452333, 0.9757048734120374, 0.9777525249264253, 0.9820386957752735, 0.9801020355044673, 0.9826494797230597, 0.979081201943945, 0.9815294188153506, 0.972111104761179, 0.9827512401416749, 0.9782637681116478, 0.9761147473529943, 0.9801020355044673, 0.9813256340277675, 0.9768316129200569, 0.9780593029055038, 0.976012295004525, 0.9758073580374356, 0.9797958971132712, 0.9763196197967139, 0.9763196197967139, 0.9793875637356235, 0.9793875637356235, 0.9787747442593725, 0.9794896630388705, 0.9824459272652108, 0.9781615408509987, 0.9781615408509987, 0.9794896630388705, 0.9794896630388705, 0.9809179374443104])

rmse_bigram2 = np.array([1.0213716267842963, 1.034117981663601, 1.0331505214633538, 1.0043903623591774, 1.0066777041337511, 0.9989994994993742, 0.9919677414109795, 0.9896464014990405, 0.9911609354691094, 0.9957911427603682, 0.9912618221237011, 0.9929753269845127, 0.9876234100101111, 0.9826494797230597, 0.9779570542718121, 0.9820386957752735, 0.9838699100999074, 0.9884331034521254, 0.982242332624694, 0.9807140255956371, 0.9873196037757986, 0.9793875637356235, 0.9844795579391173, 0.9862048468751308, 0.9868130522039116, 0.9850888284819801, 0.9850888284819801, 0.9837682653958706, 0.9814275317108238, 0.9824459272652108, 0.979081201943945, 0.9789790600416334, 0.9768316129200569, 0.9750897394599125, 0.9807140255956371, 0.9780593029055038, 0.9771386800244887, 0.9802040603874277, 0.9791833331914918, 0.9786725703727472, 0.9768316129200569, 0.9765244492586962, 0.9787747442593725, 0.976933979345585, 0.9758073580374356, 0.973755616158387, 0.9753973549277238, 0.9724196624914574, 0.9762171889492625, 0.9831581764904364])

rmse_bigram3 = np.array([1.0303397497913007, 1.0244022647378324, 1.0353743284435828, 1.0215674231297707, 1.033634364753804, 1.0242070103255494, 1.012719112093773, 1.0117311895953391, 1.0096534058774824, 1.0132127121192271, 1.0121264743103997, 1.0103464752252072, 1.0115334893121435, 1.0072735477515529, 1.0054849576199536, 1.0039920318408906, 1.0046890066085128, 1.0081666528902848, 1.0059821071967434, 1.0045894683899488, 1.0084641788382966, 1.010940156488009, 1.0106433594498112, 1.0113357503816425, 1.0086624807139404, 1.0084641788382966, 1.012324058787501, 1.0077698149875298, 1.013508756745594, 1.009752444909147, 1.0040916292848974, 1.0086624807139404, 1.009554357129917, 1.0094552986635912, 1.006081507632458, 1.010247494428964, 1.0075713374247999, 1.0122252713699653, 1.0119288512538813, 1.0107423014794623, 1.0110390694725897, 1.010247494428964, 1.0098514742277698, 1.0089598604503551, 1.0116323442832382, 1.013508756745594, 1.0115334893121435, 1.0147906187977893, 1.0100495037373167, 1.0141005867269774])

rmse_bigram4 = np.array([0.985393322486001, 1.0277159140540737, 1.0077698149875298, 0.9879271228182775, 0.9798979538707079, 0.9839715443040007, 0.9813256340277675, 0.9779570542718121, 0.9723168207945392, 0.9690201236300513, 0.9720082304178294, 0.9651942809610923, 0.9674709297958259, 0.9589577675789481, 0.9652978814852957, 0.9588534820294495, 0.9598958276813166, 0.9584362263604188, 0.9518403227432635, 0.955928867646542, 0.9541488353501251, 0.9564517760974675, 0.9598958276813166, 0.9582275303913993, 0.9594790253048786, 0.9550916186418976, 0.9569743988216194, 0.9572878355019455, 0.955928867646542, 0.9566608594481119, 0.9637427042525406, 0.9585405573057407, 0.9636389365317282, 0.9640539403996023, 0.9640539403996023, 0.963431367560762, 0.9628083921528727, 0.9642613753542137, 0.9578100020358944, 0.9639502061828713, 0.9589577675789481, 0.9563472172804185, 0.961977130705299, 0.9590620417887468, 0.9581231653602788, 0.9592705562040357, 0.9593747964169165, 0.9627045237246992, 0.9587491851365507, 0.9595832428716125])

# without Bigram

# c = 0.05
# cv = 0.4

rmse_nobigram0 = np.array([1.0067770358922576, 1.0151847122568385, 1.0081666528902848, 0.993176721434811, 0.9925724154942046, 0.9913626985114984, 0.9925724154942046, 0.9944847912361455, 0.9958915603618699, 0.9878258955909184, 0.9885342685005917, 0.99498743710662, 0.99498743710662, 0.9920685460188726, 0.9901515035589251, 0.983666610188635, 0.9893432164825309, 0.9820386957752735, 0.9815294188153506, 0.9776502442080194, 0.9839715443040007, 0.9840731680114035, 0.9860020283954795, 0.9852918349402882, 0.9860020283954795, 0.9896464014990405, 0.9912618221237011, 0.9901515035589251, 0.9891410415102591, 0.9882307422864358, 0.9852918349402882, 0.985190336940025, 0.9828529900244491, 0.9840731680114035, 0.9817331613019904, 0.9844795579391173, 0.9848857801796105, 0.9841747812253675, 0.982242332624694, 0.9825477087653302, 0.9835649444749441, 0.982344135219425, 0.9846826900072937, 0.98, 0.9808159868191383, 0.9784681905918046, 0.9784681905918046, 0.981936861514018, 0.9812237257628863, 0.9854947995803935])

rmse_nobigram1 = np.array([1.0295630140987, 1.0318914671611545, 1.0222524150130436, 1.009554357129917, 1.0046890066085128, 1.0069756700139283, 1.0023971268913334, 0.9966945369570358, 0.9924716620639604, 0.9889388252060892, 0.9849873095629201, 0.9876234100101111, 0.9865089964110819, 0.9839715443040007, 0.9824459272652108, 0.98, 0.9765244492586962, 0.9752948272189287, 0.9752948272189287, 0.9766268478799873, 0.9777525249264253, 0.9813256340277675, 0.980612053770501, 0.9818350166906862, 0.9832598842625484, 0.9783659846908007, 0.9747820269167872, 0.9773433378296493, 0.9812237257628863, 0.9802040603874277, 0.9797958971132712, 0.9818350166906862, 0.9802040603874277, 0.9830564581955606, 0.9820386957752735, 0.9807140255956371, 0.9805100713404223, 0.9814275317108238, 0.9850888284819801, 0.9807140255956371, 0.9844795579391173, 0.9842763839491426, 0.9856977224281286, 0.9854947995803935, 0.9842763839491426, 0.9840731680114035, 0.9848857801796105, 0.9828529900244491, 0.9835649444749441, 0.9816312953446421])

rmse_nobigram2 = np.array([1.0224480426897007, 1.0401922899156675, 1.0402884215447177, 1.0093562304756434, 1.012916580968048, 0.9974968671630001, 0.9934787365615834, 0.9929753269845127, 0.9962931295557548, 0.9953893710503443, 0.9927738916792685, 0.9913626985114984, 0.985393322486001, 0.9828529900244491, 0.9834632682515397, 0.9816312953446421, 0.9849873095629201, 0.9874208829065749, 0.985393322486001, 0.9818350166906862, 0.9833615815151617, 0.9849873095629201, 0.9862048468751308, 0.9855962662266938, 0.9856977224281286, 0.9829547293746543, 0.9807140255956371, 0.9831581764904364, 0.9831581764904364, 0.9830564581955606, 0.9827512401416749, 0.9807140255956371, 0.9825477087653302, 0.974268956705488, 0.9768316129200569, 0.9791833331914918, 0.9776502442080194, 0.9785703858180055, 0.9766268478799873, 0.982242332624694, 0.9811218069128828, 0.981936861514018, 0.9795917517006766, 0.9840731680114035, 0.9808159868191383, 0.9809179374443104, 0.9767292357659824, 0.9809179374443104, 0.9810198774744577, 0.981936861514018])

rmse_nobigram3 = np.array([1.0381714694596458, 1.029465880930495, 1.0376897416858277, 1.0239140588936164, 1.034601372510205, 1.0251829105091441, 1.0194115949899727, 1.0136074190730848, 1.017152889196113, 1.013804714922948, 1.0136074190730848, 1.0167595585978033, 1.012719112093773, 1.009058967553433, 1.012719112093773, 1.0038924245156948, 1.011236866416568, 1.0101485039339513, 1.0100495037373167, 1.004290794541103, 1.010247494428964, 1.0077698149875298, 1.0059821071967434, 1.0145935146648632, 1.01202766760598, 1.0087616170334794, 1.0099504938362078, 1.0131140113531152, 1.0084641788382966, 1.0106433594498112, 1.0104454463255301, 1.0100495037373167, 1.0131140113531152, 1.0140019723846694, 1.0132127121192271, 1.013015300970326, 1.009554357129917, 1.0081666528902848, 1.0104454463255301, 1.010247494428964, 1.0117311895953391, 1.0115334893121435, 1.0139033484509261, 1.013311403271472, 1.012916580968048, 1.0122252713699653, 1.0117311895953391, 1.0092571525632108, 1.0081666528902848, 1.0098514742277698])

rmse_nobigram4 = np.array([0.9883319280484669, 1.0218610473053564, 1.0062802790475425, 0.9948869282486327, 0.9831581764904364, 0.9868130522039116, 0.980612053770501, 0.9759098319004682, 0.9744742172063866, 0.9681941953967707, 0.9707728879609278, 0.9678842906050289, 0.9687104830649867, 0.9630160954002794, 0.9621850133939938, 0.9628083921528727, 0.9658157174119709, 0.9632237538599222, 0.9652978814852957, 0.9649870465451855, 0.9666436778875658, 0.9706698717895802, 0.9674709297958259, 0.9638464608017192, 0.9651942809610923, 0.9638464608017192, 0.9665402216152208, 0.965090669315583, 0.9675742865537509, 0.9663332758422427, 0.9643650760992956, 0.9649870465451855, 0.961977130705299, 0.9623928511787689, 0.9613532129243653, 0.9567653839891993, 0.9591663046625439, 0.9618731725128838, 0.9604165762834376, 0.9613532129243653, 0.9591663046625439, 0.9638464608017192, 0.9614572273377532, 0.9598958276813166, 0.9573922915921143, 0.960937042682818, 0.961977130705299, 0.9643650760992956, 0.960937042682818, 0.9604165762834376])

# bigram change

delta_bigram_0 = rmse_nobigram0 - rmse_bigram0

delta_bigram_1 = rmse_nobigram1 - rmse_bigram1

delta_bigram_2 = rmse_nobigram2 - rmse_bigram2

delta_bigram_3 = rmse_nobigram3 - rmse_bigram3

delta_bigram_4 = rmse_nobigram4 - rmse_bigram4

delta_bigram = np.vstack((delta_bigram_0, delta_bigram_1, delta_bigram_2, delta_bigram_3, delta_bigram_4))

mean_delta_bigram = np.mean(delta_bigram, 0)
std_delta_bigram = np.std(delta_bigram, 0)

iteration = range(1,51)

delta_bigram = plt.errorbar(iteration, mean_delta_bigram, std_delta_bigram, color="blue", linestyle="-", marker="o")
plt.axhline(0, color="red")

plt.xlabel("repeat times")
plt.ylabel("RMSE without BiGram - RMSE with BiGram")

plt.axis([0, 50, -0.03, 0.03])

plt.show()

delta20_bigram = []
for data in [rmse_bigram0, rmse_bigram1, rmse_bigram2, rmse_bigram3, rmse_bigram4]:
	delta20_bigram.append(data[0] - data[19])

print delta20_bigram

plt.bar([0,1,2,3,4],delta20_bigram, width=0.4, color="grey")
plt.xticks(np.arange(5) + 0.4/2.0, ("dataset 1", "dataset 2", "dataset 3", "dataset 4", "dataset 5"))
plt.ylabel("RMSE of model with 20 repeat time - RMSE of model without average")

plt.show()
